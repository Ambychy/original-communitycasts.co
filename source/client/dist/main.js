angular.module("config",[]).constant("config",{serverHost:"http://localhost:8080/"});var app=angular.module("communityCasts",["ngMaterial","ui.router","config"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,o){o.html5Mode(!0),e.otherwise("/"),t.state("about",{url:"/about",templateUrl:"/app/views/_about.html",data:{pageTitle:"About Community Casts"}}),t.state("home",{url:"/:tagged?",templateUrl:"/app/views/_screencasts.html",controller:"screencastsController",params:{sort:"popular",tagged:""},data:{pageTitle:"Community Casts"}})}]).run(["$rootScope","$state","$stateParams",function(t,e,o){t.$state=e,t.$stateParams=o}]);app.controller("heroController",["$scope","modal",function(t,e){"use strict";t.submitScreencast=function(t){e.show(t)}}]),app.controller("menuController",["$scope","$http","modal","$location","config",function(t,e,o,s,a){"use strict";e.get(a.serverHost+"tags").success(function(e){t.tags=e.tags}),t.showAddAlert=function(t){o.show(t)}}]),app.controller("screencastsController",["$scope","$http","$stateParams","$window","$location","config",function(t,e,o,s,a,n){"use strict";function r(){t.page=1,t.screencasts=[],t.hasMore=!0,t.loaded=!1,t.busy=!1}t.loadBtnText="Load More",t.fetchScreencasts=function(){t.busy=!0;var s=n.serverHost+"screencasts";""!==o.tagged&&(s+="/tagged/"+encodeURIComponent(o.tagged)+"/");var a=s+"?page="+t.page+"&sort="+t.sortOption;e.get(a).success(function(e){1===t.page&&(t.totalCount=e.totalCount),t.busy=!1,t.page+=1,t.hasMore=e.hasMore,t.screencasts=t.screencasts.concat(e.screencasts),t.loaded=!0,t.hasMore||(t.loadBtnText="Showing "+t.screencasts.length+" of "+t.screencasts.length+" screencasts. There are no more to load.")})},t.changeSortOption=function(){r(),t.fetchScreencasts()},t.navigateTo=function(t){s.open(t)},r(),t.sortOption=o.sort,t.tagged=o.tagged,t.fetchScreencasts()}]),app.factory("modal",["$mdDialog",function(t){"use strict";return{show:function(e){t.show(t.alert().title("Sorry").content("Community Casts is not currently accepting submissions. ").ok("Ok :(").targetEvent(e))}}}]);