angular.module("config",[]).constant("config",{serverHost:"http://localhost:8080/"});var app=angular.module("communityCasts",["ngMaterial","ui.router","config"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,s){s.html5Mode(!0),e.otherwise("/"),t.state("about",{url:"/about",templateUrl:"/app/views/_about.html",data:{pageTitle:"About Community Casts"}}),t.state("submit",{url:"/submit",templateUrl:"/app/views/_submit.html",controller:"submitController",data:{pageTitle:"Submit a screencast"}}),t.state("home",{url:"/:tagged?",templateUrl:"/app/views/_screencasts.html",controller:"screencastsController",params:{sort:"popular",tagged:""},data:{pageTitle:"Community Casts"}})}]).run(["$rootScope","$state","$stateParams",function(t,e,s){t.$state=e,t.$stateParams=s}]);app.controller("menuController",["$scope","$http","$location","config",function(t,e,s,a){"use strict";e.get(a.serverHost+"tags").success(function(e){t.tags=e.tags})}]),app.controller("screencastsController",["$scope","$http","$stateParams","$window","$location","config",function(t,e,s,a,o,r){"use strict";function n(){t.page=1,t.screencasts=[],t.hasMore=!0,t.loaded=!1,t.busy=!1}t.loadBtnText="Load More",t.fetchScreencasts=function(){t.busy=!0;var a=r.serverHost+"screencasts";""!==s.tagged&&(a+="/tagged/"+encodeURIComponent(s.tagged)+"/");var o=a+"?page="+t.page+"&sort="+t.sortOption;e.get(o).success(function(e){1===t.page&&(t.totalCount=e.totalCount),t.busy=!1,t.page+=1,t.hasMore=e.hasMore,t.screencasts=t.screencasts.concat(e.screencasts),t.loaded=!0,t.hasMore||(t.loadBtnText="Showing "+t.screencasts.length+" of "+t.screencasts.length+" screencasts. There are no more to load.")})},t.changeSortOption=function(){n(),t.fetchScreencasts()},t.navigateTo=function(t){a.open(t)},n(),t.sortOption=s.sort,t.tagged=s.tagged,t.fetchScreencasts()}]),app.controller("submitController",["$scope",function(t){"use strict";t.screencast={},t.screencast.tags=["Angular"],t.submit=function(){alert(JSON.stringify(t.screencast))}}]);